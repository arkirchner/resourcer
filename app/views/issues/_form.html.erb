<%= form_with model: issue, url: if issue.persisted?
                                   issue_path(issue)
                                 else
                                   project_issues_path(issue.project)
                                 end do |f| %>
  <div class="form-group">
    <%= f.label :parent_id %>
    <%= f.select(:parent_id, parent_issue_options(issue), { include_blank: "No parent issue." }, data: { controller: "select" }) %>
  </div>
  <div class="form-group">
    <%= f.label :subject %>
    <%= f.text_field :subject, class: "form-control", placeholder: "My new issue." %>
  </div>
  <div class="form-group" data-controller="markdown">
    <%= f.label :description %>
    <%= f.text_area :description, class: "form-control", rows: 18,
      data: {
        target: "markdown.textArea",
        action: "keyup->markdown#resize paste->markdown#resize"
    } %>

    <div class="btn-toolbar" role="toolbar" aria-label="Toolbar for markdown editor.">
      <div class="btn-group mr-2 mt-2" role="group" aria-label="Text styles">
        <button type="button" class="btn btn-secondary">
          <p class="sr-only sr-only-focusable">Bold</p>
          <%= inline_svg_tag "@fortawesome/fontawesome-free/svgs/solid/bold.svg", class: "nav-icon" %>
        </button>
        <button type="button" class="btn btn-secondary">
          <p class="sr-only sr-only-focusable">Italic</p>
          <%= inline_svg_tag "@fortawesome/fontawesome-free/svgs/solid/italic.svg", class: "nav-icon" %>
        </button>
        <button type="button" class="btn btn-secondary">
          <p class="sr-only sr-only-focusable">Strike through</p>
          <%= inline_svg_tag "@fortawesome/fontawesome-free/svgs/solid/strikethrough.svg", class: "nav-icon" %>
        </button>
      </div>
      <div class="btn-group mr-2 mt-2" role="group" aria-label="Lists">
        <button type="button" class="btn btn-secondary">
          <p class="sr-only sr-only-focusable">Unordered  List</p>
          <%= inline_svg_tag "@fortawesome/fontawesome-free/svgs/solid/list-ul.svg", class: "nav-icon" %>
        </button>
        <button type="button" class="btn btn-secondary">
          <p class="sr-only sr-only-focusable">Ordered List</p>
          <%= inline_svg_tag "@fortawesome/fontawesome-free/svgs/solid/list-ol.svg", class: "nav-icon" %>
        </button>
        <button type="button" class="btn btn-secondary">
          <p class="sr-only sr-only-focusable">Tasks</p>
          <%= inline_svg_tag "@fortawesome/fontawesome-free/svgs/solid/tasks.svg", class: "nav-icon" %>
        </button>
      </div>
      <div class="btn-group mr-2 mt-2" role="group" aria-label="Table, Code etc.">
        <button type="button" class="btn btn-secondary">
          <p class="sr-only sr-only-focusable">Table</p>
          <%= inline_svg_tag "@fortawesome/fontawesome-free/svgs/solid/table.svg", class: "nav-icon" %>
        </button>
        <button type="button" class="btn btn-secondary">
          <p class="sr-only sr-only-focusable">Quote</p>
          <%= inline_svg_tag "@fortawesome/fontawesome-free/svgs/solid/quote-right.svg", class: "nav-icon" %>
        </button>
        <button type="button" class="btn btn-secondary">
          <p class="sr-only sr-only-focusable">Code</p>
          <%= inline_svg_tag "@fortawesome/fontawesome-free/svgs/solid/code.svg", class: "nav-icon" %>
        </button>
        <button type="button" class="btn btn-secondary">
          <p class="sr-only sr-only-focusable">Link</p>
          <%= inline_svg_tag "@fortawesome/fontawesome-free/svgs/solid/link.svg", class: "nav-icon" %>
        </button>
      </div>
      <div class="btn-group mr-2 mt-2" role="group" aria-label="Undo and redo">
        <button type="button" class="btn btn-secondary" disabled="true">
          <p class="sr-only sr-only-focusable">Undo</p>
          <%= inline_svg_tag "@fortawesome/fontawesome-free/svgs/solid/undo.svg", class: "nav-icon" %>
        </button>
        <button type="button" class="btn btn-secondary" disabled="true">
          <p class="sr-only sr-only-focusable">Redo</p>
          <%= inline_svg_tag "@fortawesome/fontawesome-free/svgs/solid/redo.svg", class: "nav-icon" %>
        </button>
      </div>
      <div class="btn-group mr-2 mt-2" role="group" aria-label="Preview changes">
        <button type="button" class="btn btn-secondary">
          <p class="sr-only sr-only-focusable">Preview</p>
          <%= inline_svg_tag "@fortawesome/fontawesome-free/svgs/solid/eye.svg", class: "nav-icon" %>
        </button>
      </div>
    </div>
  </div>
  <div class="form-group">
    <%= f.label :due_at %>
    <%= f.text_field :due_at, class: "form-control", placeholder: "Pick a date.", data: { controller: "flatpickr", flatpickr_min_date: Time.zone.now } %>
  </div>
  <%= f.submit class: "btn btn-primary" %>
<% end %>
